# =============================================================================
# DropTools - Variables de entorno (ejemplo)
# =============================================================================
# 1. Copiar este archivo:  cp .env.example .env   (Linux/Mac)  o  copy .env.example .env  (Windows)
# 2. Para Docker:  cp .env.example .env.docker   y editar .env.docker
# 3. Sustituir valores de ejemplo por los reales. NO subir .env ni .env.docker a Git.
# =============================================================================

# --- Base de datos (PostgreSQL) ---
POSTGRES_DB=droptools_db
POSTGRES_USER=droptools_admin
POSTGRES_PASSWORD=cambiar_contraseña_segura
POSTGRES_HOST=db
POSTGRES_PORT=5432

# --- Django ---
DEBUG=True
SECRET_KEY=django-insecure-cambiar-en-produccion-generar-clave-aleatoria
# Clave dedicada para cifrado de credenciales Dropi (no reutilizar SECRET_KEY en producción).
DROPI_PASSWORD_ENCRYPTION_KEY=CAMBIAR_POR_CLAVE_DIFERENTE_A_SECRET_KEY
# Desarrollo: 127.0.0.1,localhost,testserver
# Producción (VPS): droptools.cloud,www.droptools.cloud,127.0.0.1,localhost
ALLOWED_HOSTS=127.0.0.1,localhost,testserver

# --- Entorno: desarrollo vs producción (reporter) ---
# development = reporter se ejecuta en proceso (Windows/local, Edge, navegador visible, sin Celery)
# production  = reporter se encola en Celery (Docker/Linux)
# En local/Windows pon DROPTOOLS_ENV=development para que "Iniciar a Reportar" funcione sin Docker.
DROPTOOLS_ENV=development

# --- Celery + Redis (Docker usa host 'redis') ---
REDIS_PASSWORD=redis_dev_password
CELERY_BROKER_URL=redis://:redis_dev_password@localhost:6379/0
CELERY_RESULT_BACKEND=redis://:redis_dev_password@localhost:6379/0
FLOWER_BASIC_AUTH=admin:dev_password

# --- Dropi (credenciales para reporter) ---
DROPI_EMAIL=tu_email@ejemplo.com
DROPI_PASSWORD=tu_password_dropi
# DROPI_LOGIN_DIRECT=1  → Salta Google y landing, va directo a app.dropi.co/auth/login (útil si el proxy no carga)
# DROPI_NO_PROXY=1     → Sin proxy (para probar si el login carga con tu red; quitar cuando tengas proxy que funcione)

# --- pgAdmin (opcional) ---
PGADMIN_DEFAULT_EMAIL=admin@droptools.com
PGADMIN_DEFAULT_PASSWORD=cambiar_contraseña_pgadmin

# --- Proxy DEV (testing reporter, opcional) ---
# Si usas proxy_dev_config.json, las credenciales van ahí. Alternativa por env:
# PROXY_DEV_HOST=ip_del_proxy
# PROXY_DEV_PORT=12323
# PROXY_DEV_USERNAME=usuario_proxy
# PROXY_DEV_PASSWORD=password_proxy
# user_ids se definen en backend/proxy_dev_config.json (no en .env)

# --- Proxy Bright Data (Docker/producción) ---
# Para usar Bright Data sin proxy_dev_config.json: host=brd.superproxy.io, port=33335
# Usuario: brd-customer-<customer_id>-zone-<zone_name>-country-co (sufijo -country-co = Colombia)
# Doc: https://docs.brightdata.com/proxy-networks/isp/send-your-first-request
# DROPI_PROXY_HOST=brd.superproxy.io
# DROPI_PROXY_PORT=33335
# DROPI_PROXY_USER=brd-customer-XXX-zone-isp_proxy1-country-co
# DROPI_PROXY_PASS=tu_zone_password
# Opcional (para otras APIs Bright Data): BRIGHTDATA_API_KEY=tu_api_key

# --- Opcional: Meta Ads, headless, etc. ---
# META_ADS_TOKEN=
# HEADLESS_MODE=False
# HF_HOME=./cache_huggingface
# RAW_DIR=./raw_data

# --- Google OAuth ---
# Valores del JSON que descarga Google (client_secret_...json → web.client_id / web.client_secret).
# Backend: este .env. Frontend: frontend/.env con VITE_GOOGLE_CLIENT_ID=<mismo client_id>.
# En Google Cloud: Orígenes JavaScript autorizados = http://localhost:5173 (dev) y https://droptools.cloud (prod).
# Producción: añadir también GOOGLE_REDIRECT_URI=https://droptools.cloud/
GOOGLE_CLIENT_ID=TU_GOOGLE_CLIENT_ID.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=TU_GOOGLE_CLIENT_SECRET
# Desarrollo: http://localhost:5173/auth/google/callback
# Producción: https://droptools.cloud/ (o la URL de callback que uses)
GOOGLE_REDIRECT_URI=http://localhost:5173/auth/google/callback

# --- Auth por correo (verificación + reset) ---
FRONTEND_BASE_URL=http://localhost:5173
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=587
EMAIL_HOST_USER=apikey
EMAIL_HOST_PASSWORD=tu_password_smtp
EMAIL_USE_TLS=True
DEFAULT_FROM_EMAIL=no-reply@droptools.cloud
SERVER_EMAIL=no-reply@droptools.cloud
VERIFY_EMAIL_EXPIRY_SECONDS=86400
RESET_PASSWORD_EXPIRY_SECONDS=3600
THROTTLE_REGISTER_RATE=8/hour
THROTTLE_PASSWORD_RESET_REQUEST_RATE=6/hour
THROTTLE_LOGIN_RATE=20/hour
THROTTLE_VERIFY_EMAIL_RATE=30/hour
THROTTLE_PASSWORD_RESET_CONFIRM_RATE=12/hour

# Credenciales para bot de novedades (opcional)
NOVEDAD_DROPI_EMAIL=
NOVEDAD_DROPI_PASSWORD=

# --- Producción: CSRF (opcional si usas .env.production con lista) ---
# CSRF_TRUSTED_ORIGINS=https://droptools.cloud,https://www.droptools.cloud
